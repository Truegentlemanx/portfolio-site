{% extends "projects/base.html" %}
{% load static %}

{% block content %}
<section class="py-5">
  <div class="container">

    <!-- Header -->
    <div class="text-center mb-5">
      <h1 class="display-5 fw-bold mb-2">Resume</h1>
      <p class="text-muted mb-0">Work experience.</p>
    </div>

    <!-- Introduction -->
    <div class="row justify-content-center mb-3">
      <div class="col-12 col-lg-9">
        <div class="card border-0 shadow-sm resume-card">
          <div class="card-body p-4">
                Motivated and reliable with a background in economics, 
                administration, and production, currently transitioning 
                into software development with a focus on Python. Experienced 
                in structured work environments, process optimization, and 
                digital tools. Strong work ethic developed through production 
                work in Germany, combined with continuous self-learning in 
                foreign languages, programming and technology.
          </div>
        </div>
      </div>
    </div>

    {% regroup resume_items by category as grouped %}

    <div class="row justify-content-center">
      <div class="col-12 col-lg-9">

        {% for group in grouped %}
          <div class="mb-5">

            <!-- Category title -->
            <div class="d-flex align-items-center gap-3 mb-3">
              <h3 class="h4 fw-bold mb-0">{{ group.grouper }}</h3>
              <div class="flex-grow-1 border-top"></div>
            </div>

            <div class="vstack gap-4">
              {% for item in group.list %}
                <div class="card border-0 shadow-sm resume-card">
                  <div class="card-body p-4">

                    <!-- BIG image (certificate) -->
                    {% if item.image %}
                      <div class="mb-4 text-center">
                        <img src="{% static item.image %}"
                             alt="{{ item.title }}"
                             class="img-fluid rounded-3 shadow-sm"
                             style="max-height: 420px; width: 100%; object-fit: contain;">
                      </div>
                    {% endif %}

                    <!-- Title + date -->
                    <div class="d-flex flex-column flex-md-row justify-content-between align-items-md-start gap-2">
                      {% if item.title %}
                      <h3 class="h5 fw-bold mb-0">{{ item.title }}</h3>
                      {% endif %}

                      
                        {% if item.start_date and item.end_date %}
                        <span class="badge text-bg-light border align-self-md-start">
                          {{ item.start_date|date:"d.m.Y" }} â€“ {{ item.end_date|date:"d.m.Y" }}
                        {% elif item.start_date %}
                          {{ item.start_date|date:"F Y" }}
                        {% endif %}
                      </span>
                    </div>

                    <!-- Description -->
                    <p class="text-muted mb-0 mt-3">
                      {{ item.description }}
                    </p>

                  </div>
                </div>
              {% empty %}
                <p class="text-muted">No items in this category yet.</p>
              {% endfor %}
            </div>

          </div>
        {% empty %}
          <div class="text-center text-muted">
            <p class="mb-0">No resume items added yet.</p>
          </div>
        {% endfor %}

      </div>
    </div>

  </div>
</section>

<style>
  .resume-card {
    transition: transform 180ms ease, box-shadow 180ms ease;
  }
  .resume-card:hover {
    transform: translateY(-3px);
    box-shadow: 0 .75rem 1.5rem rgba(0,0,0,.10) !important;
  }
</style>
{% endblock content %}
